# This file should contain all the record creation needed to seed the database with its default values.
# The data can then be loaded with the rails db:seed command (or created alongside the database with db:setup).
#
# Examples:
#
#   movies = Movie.create([{ name: 'Star Wars' }, { name: 'Lord of the Rings' }])
#   Character.create(name: 'Luke', movie: movies.first)

# # date: "2016-1-01"
#   Provider.create!( date: "2016-1-01", provider_name: "AOL", blocks: rand(10), bounces: rand(15), clicks: rand(1000), deferred: rand(100), delivered: rand(2000), drops: 15, opens: 346, spam_reports: rand(10), unique_clicks: 78, unique_opens: rand(250), user_id: 1, utc_date: 1451606400000 )
#
#   Provider.create!( date: "2016-1-01", provider_name: "Gmail", blocks: rand(10), bounces: rand(15), clicks: rand(1000), deferred: rand(100), delivered: rand(2000), drops: 15, opens: 234, spam_reports: rand(10), unique_clicks: 78, unique_opens: rand(250), user_id: 1, utc_date: 1451606400000 )
#
#   Provider.create!( date: "2016-1-01", provider_name: "Yahoo", blocks: rand(10), bounces: rand(15), clicks: rand(1000), deferred: rand(100), delivered: rand(2000), drops: 15, opens: 346, spam_reports: rand(10), unique_clicks: 78, unique_opens: rand(250), user_id: 1, utc_date: 1451606400000 )
#
#   Provider.create!( date: "2016-1-01", provider_name: "Hotmail", blocks: rand(10), bounces: rand(15), clicks: rand(1000), deferred: rand(100), delivered: rand(2000), drops: 15, opens: 175, spam_reports: rand(10), unique_clicks: 78, unique_opens: rand(250), user_id: 1, utc_date: 1451606400000 )
#
#
# # date: "2016-1-02"
#   Provider.create!( date: "2016-1-02", provider_name: "AOL", blocks: rand(10), bounces: rand(15), clicks: rand(1000), deferred: rand(100), delivered: rand(2000), drops: 15, opens: 290, spam_reports: rand(10), unique_clicks: 78, unique_opens: rand(250), user_id: 1, utc_date: 1451692800000 )
#
#   Provider.create!( date: "2016-1-02", provider_name: "Gmail", blocks: rand(10), bounces: rand(15), clicks: rand(1000), deferred: rand(100), delivered: rand(2000), drops: 15, opens: 345, spam_reports: rand(10), unique_clicks: 78, unique_opens: rand(250), user_id: 1, utc_date: 1451692800000 )
#
#   Provider.create!( date: "2016-1-02", provider_name: "Yahoo", blocks: rand(10), bounces: rand(15), clicks: rand(1000), deferred: rand(100), delivered: rand(2000), drops: 15, opens: 465, spam_reports: rand(10), unique_clicks: 78, unique_opens: rand(250), user_id: 1, utc_date: 1451692800000 )
#
#   Provider.create!( date: "2016-1-02", provider_name: "Hotmail", blocks: rand(10), bounces: rand(15), clicks: rand(1000), deferred: rand(100), delivered: rand(2000), drops: 15, opens: 543, spam_reports: rand(10), unique_clicks: 78, unique_opens: rand(250), user_id: 1, utc_date: 1451692800000 )
#
# # date: "2016-1-03"
#   Provider.create!( date: "2016-1-03", provider_name: "AOL", blocks: rand(10), bounces: rand(15), clicks: rand(1000), deferred: rand(100), delivered: rand(2000), drops: 15, opens: 234, spam_reports: rand(10), unique_clicks: 78, unique_opens: rand(250), user_id: 1, utc_date: 1451779200000 )
#
#   Provider.create!( date: "2016-1-03", provider_name: "Gmail", blocks: rand(10), bounces: rand(15), clicks: rand(1000), deferred: rand(100), delivered: rand(2000), drops: 15, opens: 278, spam_reports: rand(10), unique_clicks: 78, unique_opens: rand(250), user_id: 1, utc_date: 1451779200000 )
#
#   Provider.create!( date: "2016-1-03", provider_name: "Yahoo", blocks: rand(10), bounces: rand(15), clicks: rand(1000), deferred: rand(100), delivered: rand(2000), drops: 15, opens: 213, spam_reports: rand(10), unique_clicks: 78, unique_opens: rand(250), user_id: 1, utc_date: 1451779200000 )
#
#   Provider.create!( date: "2016-1-03", provider_name: "Hotmail", blocks: rand(10), bounces: rand(15), clicks: rand(1000), deferred: rand(100), delivered: rand(2000), drops: 15, opens: 156, spam_reports: rand(10), unique_clicks: 78, unique_opens: rand(250), user_id: 1, utc_date: 1451779200000 )
#
# # date: "2016-1-04"
#   Provider.create!( date: "2016-1-04", provider_name: "AOL", blocks: rand(10), bounces: rand(15), clicks: rand(1000), deferred: rand(100), delivered: rand(2000), drops: 15, opens: 278, spam_reports: rand(10), unique_clicks: 78, unique_opens: rand(250), user_id: 1, utc_date: 1451865600000 )
#
#   Provider.create!( date: "2016-1-04", provider_name: "Gmail", blocks: rand(10), bounces: rand(15), clicks: rand(1000), deferred: rand(100), delivered: rand(2000), drops: 15, opens: 346, spam_reports: rand(10), unique_clicks: 78, unique_opens: rand(250), user_id: 1, utc_date: 1451865600000 )
#
#   Provider.create!( date: "2016-1-04", provider_name: "Yahoo", blocks: rand(10), bounces: rand(15), clicks: rand(1000), deferred: rand(100), delivered: rand(2000), drops: 15, opens: 254, spam_reports: rand(10), unique_clicks: 78, unique_opens: rand(250), user_id: 1, utc_date: 1451865600000 )
#
#   Provider.create!( date: "2016-1-04", provider_name: "Hotmail", blocks: rand(10), bounces: rand(15), clicks: rand(1000), deferred: rand(100), delivered: rand(2000), drops: 15, opens: 289, spam_reports: rand(10), unique_clicks: 78, unique_opens: rand(250), user_id: 1, utc_date: 1451865600000 )
#
# # date: "2016-1-05"
#   Provider.create!( date: "2016-1-05", provider_name: "AOL", blocks: rand(10), bounces: rand(15), clicks: rand(1000), deferred: rand(100), delivered: rand(2000), drops: 15, opens: 346, spam_reports: rand(10), unique_clicks: 78, unique_opens: rand(250), user_id: 1, utc_date: 1451952000000 )
#
#   Provider.create!( date: "2016-1-05", provider_name: "Gmail", blocks: rand(10), bounces: rand(15), clicks: rand(1000), deferred: rand(100), delivered: rand(2000), drops: 15, opens: 234, spam_reports: rand(10), unique_clicks: 78, unique_opens: rand(250), user_id: 1, utc_date: 1451952000000 )
#
#   Provider.create!( date: "2016-1-05", provider_name: "Yahoo", blocks: rand(10), bounces: rand(15), clicks: rand(1000), deferred: rand(100), delivered: rand(2000), drops: 15, opens: 567, spam_reports: rand(10), unique_clicks: 78, unique_opens: rand(250), user_id: 1, utc_date: 1451952000000 )
#
#   Provider.create!( date: "2016-1-05", provider_name: "Hotmail", blocks: rand(10), bounces: rand(15), clicks: rand(1000), deferred: rand(100), delivered: rand(2000), drops: 15, opens: 346, spam_reports: rand(10), unique_clicks: 78, unique_opens: rand(250), user_id: 1, utc_date: 1451952000000 )
#
# # date: "2016-1-06"
#   Provider.create!( date: "2016-1-06", provider_name: "AOL", blocks: rand(10), bounces: rand(15), clicks: rand(1000), deferred: rand(100), delivered: rand(2000), drops: 15, opens: 456, spam_reports: rand(10), unique_clicks: 78, unique_opens: rand(250), user_id: 1, utc_date: 1452038400000 )
#
#   Provider.create!( date: "2016-1-06", provider_name: "Gmail", blocks: rand(10), bounces: rand(15), clicks: rand(1000), deferred: rand(100), delivered: rand(2000), drops: 15, opens: 234, spam_reports: rand(10), unique_clicks: 78, unique_opens: rand(250), user_id: 1, utc_date: 1452038400000 )
#
#   Provider.create!( date: "2016-1-06", provider_name: "Yahoo", blocks: rand(10), bounces: rand(15), clicks: rand(1000), deferred: rand(100), delivered: rand(2000), drops: 15, opens: 543, spam_reports: rand(10), unique_clicks: 78, unique_opens: rand(250), user_id: 1, utc_date: 1452038400000 )
#
#   Provider.create!( date: "2016-1-06", provider_name: "Hotmail", blocks: rand(10), bounces: rand(15), clicks: rand(1000), deferred: rand(100), delivered: rand(2000), drops: 15, opens: 453, spam_reports: rand(10), unique_clicks: 78, unique_opens: rand(250), user_id: 1, utc_date: 1452038400000 )
#
# # date: "2016-1-07"
#   Provider.create!( date: "2016-1-07", provider_name: "AOL", blocks: rand(10), bounces: rand(15), clicks: rand(1000), deferred: rand(100), delivered: rand(2000), drops: 15, opens: 342, spam_reports: rand(10), unique_clicks: 78, unique_opens: rand(250), user_id: 1, utc_date: 1452124800000 )
#
#   Provider.create!( date: "2016-1-07", provider_name: "Gmail", blocks: rand(10), bounces: rand(15), clicks: rand(1000), deferred: rand(100), delivered: rand(2000), drops: 15, opens: 123, spam_reports: rand(10), unique_clicks: 78, unique_opens: rand(250), user_id: 1, utc_date: 1452124800000 )
#
#   Provider.create!( date: "2016-1-07", provider_name: "Yahoo", blocks: rand(10), bounces: rand(15), clicks: rand(1000), deferred: rand(100), delivered: rand(2000), drops: 15, opens: 154, spam_reports: rand(10), unique_clicks: 78, unique_opens: rand(250), user_id: 1, utc_date: 1452124800000 )
#
#
#   Provider.create!( date: "2016-1-07", provider_name: "Hotmail", blocks: rand(10), bounces: rand(15), clicks: rand(1000), deferred: rand(100), delivered: rand(2000), drops: 15, opens: 346, spam_reports: rand(10), unique_clicks: 78, unique_opens: rand(250), user_id: 1, utc_date: 1452124800000 )

require 'csv'
csv_text = File.read(Rails.root.join('lib', 'seeds', 'raw_response.csv'))
csv = CSV.parse(csv_text, :headers => true, :encoding => 'ISO-8859-1')
csv.each do |row|
  prov = Provider.new
  prov.date          = row['date']
  prov.provider_name = Provider.new.fix_provider_names(row['provider'])
  prov.blocks        = row['blocks']
  prov.bounces       = row['bounces']
  prov.clicks        = row['clicks']
  prov.deferred      = row['deferred']
  prov.delivered     = row['delivered']
  prov.drops         = row['drops']
  prov.opens         = row['opens']
  prov.spam_reports  = row['spam_reports']
  prov.unique_clicks = row['unique_clicks']
  prov.unique_opens  = row['unique_opens']
  prov.user_id       = 1
  prov.utc_date      = Provider.new.convert_date_time(row['date'])
  prov.save
  puts "#{prov.provider_name}, #{prov.utc_date} saved."
end

puts "There are now #{Provider.count} rows in the providers table"
